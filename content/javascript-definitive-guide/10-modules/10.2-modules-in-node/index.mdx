---
title: Node'dagi modullar
description: "Node.js’da modullar: require() va import orqali modullarni ulash, module.exports yordamida kodni tashqi fayllarga chiqarish va standart hamda uchinchi tomon kutubxonalaridan foydalanish. Modular dasturlash va amaliy misollar."
keywords: JavaScript, Node.js, modul, Node modullari, require, import, module.exports, export, CommonJS, ES Module, kutubxona, library, qayta foydalanish, reusable code, modular programming, tutorial, beginner, advanced, misollar
author: Webiston.uz
---



# Node'dagi modullar

Node dasturlashida dasturlarni mantiqan qulay bo‘lganicha ko‘plab fayllarga bo‘lish odatiy holdir. Bu JavaScript kod fayllarining barchasi tezkor fayl tizimida joylashgan deb hisoblanadi. JavaScript fayllarini nisbatan sekin tarmoq ulanishi orqali o‘qishga majbur bo‘lgan veb-brauzerlardan farqli o‘laroq, Node dasturini bitta JavaScript fayliga jamlashga ehtiyoj yoki bundan biror foyda yo‘q.

Node'da har bir fayl o‘zining **shaxsiy nomlar fazosiga (private namespace)** ega bo‘lgan mustaqil modul hisoblanadi. Bir faylda ta’riflangan konstantalar, o‘zgaruvchilar, funksiyalar va sinflar, agar fayl ularni eksport qilmasa, o‘sha fayl uchun shaxsiy hisoblanadi. Va bir modul tomonidan eksport qilingan qiymatlar boshqa modulda faqat o‘sha modul ularni aniq import qilgandagina ko‘rinadi.

Node modullari boshqa modullarni `require()` funksiyasi yordamida import qiladi va o‘zining ommaviy API'sini `exports` obyektining xususiyatlarini o‘rnatish yoki `module.exports` obyektini butunlay almashtirish orqali eksport qiladi.



### 10.2.1 Node eksportlari

Node'da har doim mavjud bo'lgan global `exports` obyekti ta'riflangan. Agar siz bir nechta qiymatlarni eksport qiladigan Node modulini yozayotgan bo'lsangiz, ularni shunchaki ushbu obyektning xususiyatlariga o'zlashtirishingiz mumkin:
``` js
    const sum = (x, y) => x + y;
    const square = x => x * x;

    exports.mean = data => data.reduce(sum)/data.length;
    exports.stddev = function(d) {
        let m = exports.mean(d);
        return Math.sqrt(d.map(x => x - m).map(square).reduce(sum)/(d.length-1));
    };
```
Biroq, ko'p hollarda siz funksiyalar yoki sinflar bilan to'la obyekt o'rniga, faqat bitta funksiya yoki sinfni eksport qiladigan modulni ta'riflashni xohlaysiz. Buning uchun siz eksport qilmoqchi bo'lgan yagona qiymatni shunchaki `module.exports`'ga o'zlashtirasiz:
``` js
    module.exports = class BitSet extends AbstractWritableSet {
        // implementatsiya qismi tushirib qoldirildi
    };
```
`module.exports`'ning standart qiymati `exports` havola qiladigan obyekt bilan bir xil. Avvalgi `stats` modulida biz `mean` funksiyasini `exports.mean` o'rniga `module.exports.mean`'ga o'zlashtirishimiz mumkin edi. `stats` moduli kabi modullar bilan ishlashning yana bir yondashuvi — funksiyalarni birma-bir eksport qilish o'rniga, modul oxirida yagona obyektni eksport qilishdir:
``` js
    // Barcha funksiyalarni, ommaviy va shaxsiylarni ta'riflaymiz
    const sum = (x, y) => x + y;
    const square = x => x * x;
    const mean = data => data.reduce(sum)/data.length;
    const stddev = d => {
        let m = mean(d);
        return Math.sqrt(d.map(x => x - m).map(square).reduce(sum)/(d.length-1));
    };

    // Endi faqat ommaviylarini eksport qilamiz
    module.exports = { mean, stddev };
```



### 10.2.2 Node importlari

Node moduli boshqa modulni `require()` funksiyasini chaqirish orqali import qiladi. Bu funksiyaning argumenti — import qilinishi kerak bo‘lgan modulning nomi, qaytarilgan qiymat esa — o‘sha modul eksport qilgan har qanday qiymat (odatda funksiya, sinf yoki obyekt).

Agar siz Node'ga o‘rnatilgan tizim modulini yoki paket menejeri orqali tizimingizga o‘rnatilgan modulni import qilmoqchi bo‘lsangiz, unda siz shunchaki modulning to‘liq bo‘lmagan nomini, uni fayl tizimi yo‘liga aylantiradigan "/" belgilari bo‘lmagan holda ishlatasiz:
``` js
    // Bu modullar Node'ga o'rnatilgan
    const fs = require("fs");       // O'rnatilgan fayl tizimi moduli
    const http = require("http");   // O'rnatilgan HTTP moduli

    // Express HTTP server freymvorki uchinchi tomon modulidir.
    // U Node'ning bir qismi emas, lekin lokal o'rnatilgan.
    const express = require("express");
```
O‘zingizning kodingizdan biror modulni import qilmoqchi bo‘lsangiz, modul nomi o‘sha kodni o‘z ichiga olgan faylning joriy modul fayliga nisbatan yo‘li bo‘lishi kerak. `/` belgisi bilan boshlanadigan mutlaq yo‘llardan foydalanish mumkin, lekin odatda, dasturingizning bir qismi bo‘lgan modullarni import qilganda, modul nomlari joriy katalog yoki ota-katalogga nisbatan ekanligini bildirish uchun `./` yoki ba’zan `../` bilan boshlanadi. Masalan:
``` js
    const stats = require('./stats.js');
    const BitSet = require('./utils/bitset.js');
```
(Siz import qilayotgan fayllardagi `.js` qo‘shimchasini tushirib qoldirishingiz ham mumkin va Node fayllarni baribir topadi, lekin bu fayl kengaytmalarini aniq ko‘rsatish odatiy holdir.)

Modul faqat bitta funksiya yoki sinfni eksport qilganda, siz shunchaki uni `require` qilishingiz kifoya. Modul bir nechta xususiyatlarga ega obyektni eksport qilganda, sizda tanlov bor: siz butun obyektni import qilishingiz yoki faqat ishlatishni rejalashtirgan obyektning ma’lum xususiyatlarini (destrukturlashgan o‘zlashtirish yordamida) import qilishingiz mumkin. Ushbu ikki yondashuvni solishtiring:
``` js
    // Butun stats obyektini, uning barcha funksiyalari bilan import qilish
    const stats = require('./stats.js');

    // Bizga kerak bo'lganidan ko'proq funksiyalarni oldik, lekin ular
    // qulay "stats" nomlar fazosiga (namespace) chiroyli tarzda joylashtirilgan.
    let average = stats.mean(data);

    // Muqobil ravishda, biz xohlagan funksiyalarni to'g'ridan-to'g'ri
    // lokal nomlar fazosiga import qilish uchun idiomatik destrukturlashgan
    // o'zlashtirishdan foydalanishimiz mumkin:
    const { stddev } = require('./stats.js');

    // Bu yaxshi va ixcham, garchi biz stddev() funksiyasi uchun nomlar fazosi
    // sifatida 'stats' prefiksisiz biroz kontekstni yo'qotsak ham.
    let sd = stddev(data);
```



### 10.2.3 Veb uchun Node uslubidagi modullar

`exports` obyekti va `require()` funksiyasiga ega modullar Node'ga o‘rnatilgan. Lekin agar siz kodingizni webpack kabi jamlovchi vosita (bundling tool) bilan qayta ishlashga tayyor bo‘lsangiz, unda bu uslubdagi modullardan veb-brauzerlarda ishlashi mo‘ljallangan kodlar uchun ham foydalanish mumkin. Yaqin vaqtgacha bu juda keng tarqalgan holat edi va siz hali ham shunday qiladigan ko‘plab veb-asosli kodlarni ko‘rishingiz mumkin.

Endilikda JavaScript o‘zining standart modul sintaksisiga ega bo‘lgani uchun, jamlovchilardan foydalanadigan dasturchilar `import` va `export` operatorlari bilan rasmiy JavaScript modullaridan foydalanish ehtimoli yuqoriroq.